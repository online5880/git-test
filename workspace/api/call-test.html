<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>나는 통신이야</title>
  </head>
  <body>
    <h1>안녕 통신</h1>
  </body>
  <script>
    // api call 을 위해서 promise 를 알아야 한다.
    // 어떤 함수의 실행 순서를 보장한다.
    // 동기와 비동기(Sync, Async)

    function logtime() {
      let data = 0;
      setTimeout(() => {
        console.log("나는 타임아웃");
        data = 10;
      }, 3000);
      return data;
    }

    // console.log("함수 시작");
    // // 여길 기다리지 않는다.
    // const result = logtime();
    // console.log("함수 끝", result);

    // 그래서 등장한게 promise 다.
    function promiseData() {
      return new Promise((resolve, reject) => {
        let data = 0;
        setTimeout(() => {
          data = 10;
          return resolve(data);
          // 3초 뒤 실행
        }, 3000);
      });
    }

    // promise 실행은 이렇게 되어야한다.
    // promiseData().then((response) => {
    //   console.log(response);
    // });

    async function main() {
      console.log("함수 시작");
      // 여길 기다리지 않는다.
      const result = await promiseData();
      console.log("함수 끝", result);
    }
    main();

    async (params) => {
      console.log("함수시작2");

      console.log("함수끝2");
    };
  </script>
</html>
